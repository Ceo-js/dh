

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Playground Digital House</title>
    
    <link rel="icon" href="../../src/public/img/favicon.ico" type="svg+xml">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../src/public/css/globals.css">
    <script src='../../src/public/script/global.js' defer></script>
    <!-- <script src='../../src/public/script/includes/appbar.js' defer></script>
    <script src='../../src/public/script/includes/sidebar.js' defer></script> -->
</head>
<body>
    <app-bar></app-bar>
    <side-bar></side-bar>
    <home-page>
        <post>
            <post-home>
            <overlay>
                <post-header>
                    <t1>Funções de busca</t1>
                    <p>
                        Imaginamos que, se falarmos sobre SELECT * FROM movies, você saberá o que queremos dizer, certo?
                        <br><br>
                        Bem, esse mesmo tipo de consulta, que você tradicionalmente fazia com sentenças do MySQL, você pode facilmente realizar, mas agora com os métodos Sequelize. Uma maravilha, não acha? E isso não é o melhor de tudo. Você também poderá pesquisar um único registro dependendo de uma condição e até pesquisar por chave primária.
                        <br><br>
                        Sequelize é projetado para isso, para facilitar a sua vida e deixar que essa biblioteca cuide do "pesado" para você poder se concentrar em outras coisas importantes.
                        <br><br>
                        Portanto, sem mais delongas, vamos mergulhar no maravilhoso mundo dos métodos findAll(), findOne() e findByPk(). Você vai perceber que eles realmente são ouro puro.
                    </p>
                </post-header>
                <post-body>
                    <video src="04 - Sequelize - Introdução,models e consultas/07 - Funções de busca/findAll, findByPK, findOne.mp4"></video>
                </post-body>
            </overlay>
            </post-home>
            <iframe src="04 - Sequelize - Introdução,models e consultas/07 - Funções de busca/pdf-findAll, findOne e findByPk.html" display frameborder="0"></iframe>
            <post-home>
            <overlay>
                <post-body>
                    <t2>Exercício 01</t2>
                    <p>
                        A partir do nosso model Filmes vamos recuperar todos os filmes da nossa base de dados e fazer um console.log do resultado.
                        <br><br>
                        Para isso você pode usar o método findAll do model Filmes. <br>
                        *** Lembre-se que este método é assíncrono.
                    </p>
                    <ul>
                        <li>Você deve usar o método findAll do model Filmes: Filmes.findAll()</li>
                        <li>Você deve concatenar com o método findAll o método then: Filmes.findAll().then(...)</li>
                        <li>O método 'then' receberá um parâmetro com o resultado de findAll, você precisa recuperar esse resultado e fazer um console.log: then(filmes => console.log(filmes))</li>
                    </ul>
                    <res>
                        <js>
                            const Filmes = require( "model/filmes.js" );
                            <br><br>
                            Filmes.findAll().then( filmes => console.log( filmes ) );
                        </js>
                    </res>
                </post-body>
            </overlay>
            </post-home>    
            <post-home>
            <overlay>
                <post-body>
                    <t2>Exercício 02</t2>
                    <p>
                        A partir do model Filmes vamos recuperar o filme com a id 1.
                        O Sequelize nos oferece o método findByPk que recupera um elemento da base de acordo com sua chave primária. Podemos usar este método a partir do nosso objeto Filmes.
                        <br><br>
                        Tenha em mente que este método é assíncrono, portanto será necessário trabalhar com promises.
                    </p>
                    <ul>
                        <li>Você deve usar o método findByPk do model Filmes: Filmes.findByPk()</li>
                        <li>El método findByPk espera como parámetro el id de la película a recuperar: Peliculas.findByPk(1) O método findByPk espera receber como parâmetro o id do filme a ser recuperado: Filmes.findByPk(1)</li>
                        <li>Deve ser concatenado ao método findByPk o método then: Filmes.findByPk()then(//restante do código aqui)</li>
                        <li>O método then receberá um parâmetro com o resultado da função findByPk, você deve recuperar esse resultado e fazer um console.log: then(filme => console.log(filme)</li>
                    </ul>
                    <res>
                        <js>
                            const Filmes = require( "model/filmes.js" );
                            <br><br>
                            Filmes.findByPk(1).then( filme => console.log( filme ) );

                        </js>
                    </res>
                </post-body>
            </overlay>
            </post-home>
        </post>
    </home-page>

</body>
</html>